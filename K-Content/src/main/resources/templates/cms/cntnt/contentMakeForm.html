<!DOCTYPE html>
<html lang="en">
<head th:insert="~{/include/admin-header :: adminHeader}">
    <meta charset="utf-8">
    <title>K-spectrum</title>
    <base href="/home/">
    <!-- General META -->
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="viewport"
          content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"
          integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="preload" href="https://d13fzx7h5ezopb.cloudfront.net/fonts/font.css" as="style">
    <!--    <link rel="stylesheet" href="/header.css">-->
    <!--    <link rel="stylesheet" href="/main.css">-->
    <link rel="stylesheet" href="/recommand.css">
    <link rel="stylesheet" href="/css/content/contentDetail.css">
    <link rel="stylesheet" href="/css/content/contentDetail.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
            integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
            integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
            crossorigin="anonymous"></script>
    <script type="text/javascript" async="" src="https://www.google-analytics.com/plugins/ua/linkid.js"></script>
    <script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script>
    <script src="https://cdn-aitg.widerplanet.com/js/wp_astg_4.0.js" async=""></script>
    <script src="//static.criteo.net/js/ld/ld.js" async=""></script>
    <script src="https://cdn.megadata.co.kr/js/en_script/3.6/enliple_min3.6.js" async=""></script>
    <script async="" src="//fs.bizspring.net/fs4/l4cts.v4.2.js"></script>
    <script async="" src="https://www.googletagmanager.com/gtm.js?id=GTM-KT59HDJ"></script>
    <link rel="stylesheet" href="https://d13fzx7h5ezopb.cloudfront.net/www/v802/home/styles.css">
    <link rel="stylesheet" href="https://d13fzx7h5ezopb.cloudfront.net/fonts/font.css" media="all">
</head>
<title>Title</title>
<style>
    .fullContainer {
        display: grid;
        /*grid-template-columns: 1fr 9fr 3fr;*/

        grid-template-areas:
		"header header header header header header header header header"
		"side    main   main   main   main   main   main  trendtap trendtap"
		"recon    recon  recon  recon  recon  recon recon  recon  recon";
    }

    .title {
        grid-area: header;
        /*grid-column: 1 / 4;*/
        background-color: red;
    }

    .side-bar {
        grid-area: side;
        /*grid-row: 2 / 7;*/
        /*grid-column: 1 / 2;*/
        background-color: blue;
    }

    .trend {
        grid-area: trendtap;
        /*grid-row: 2 / 7;*/

        background-color: blue;
    }

    .content {
        grid-area: main;
        /*grid-row: 2 / 7;*/
        /*grid-column: 2 / 3;*/
        background-color: pink;
        /*grid-template-rows: 1fr 4fr 1fr;*/
    }

    .reco {
        grid-area: reco;
        /*grid-row: 3 / 4;*/
        grid-column: 1 / 10;
        background-color: #e71439;
        height: 500px;
    }

    .keyword {
        display: flex;
    }

    .keywordItem {

    }

    .goods {
        text-align: center;
    }

    .goods-box {
        display: grid;
        grid-template-columns: 1fr 1fr 1fr;
        background-color: purple;

    }

</style>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<body>
<div class="fullContainer">

    <div class="item title">
        <a class="sidebar-brand d-flex align-items-center justify-content-center" href="index.html">
            <div class="sidebar-brand-text mx-3">K-Spectrum CMS</div>
        </a>
    </div>
    <hr class="sidebar-divider my-0">
    <div class="item side-bar" th:insert="~{/include/admin-sideBar :: adminSideBar}">>

    </div>
    <div class="item content">
        <div class="item category-img">

            <div id="iframe" style="width: 400px; height: 300px; margin:auto; display: block"
                 th:src="${content.getCntntUrl()}"
                 alt="">
            </div>

        </div>
        <div class="item category-caption">
            <h6>URL: </h6>
            <input style="text-align: center; " th:value="${content.getCntntUrl()}">
        </div>
        <div class="item category-caption">
            <h6>title: </h6>
            <input style="text-align: center; " th:value="${content.getCntntTitle()}">
        </div>

        <div class="item keyword">
            <div th:each="keyword : ${keywordList}" th:id="${keyword}">
                <button type="button" style="margin-left: 10px" class="btn btn-primary position-relative keywordButton"
                        th:text="${keyword}">

                </button>
                <button style="z-index: 10; margin-left: -10px"
                        class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
                        th:key="${keyword}"
                        onclick="delKeyword(this.getAttribute('key'))">X
                </button>
            </div>

            <input type="text" id="inputKeyword" placeholder="키워드 입력">
            <button onclick="makeKeyword()" style="margin: auto">키워드 추가</button>

        </div>
        <div>
            <!--            <button th:onclick="|location.href='@{/cs/goods/list}'|">상품 추가</button>-->

            <button th:onclick="goodsNewPage()">상품 추가</button>
        </div>
        <div>
            <input type="hidden" id="pInput" >
        </div>
        <div class="item goods-box">
            <!--            <div th:each="goods : ${goodsJFileList}">-->
            <!--                <a th:href="${goods.goodsPurchsLink}">-->
            <!--                    <div class="card" style="width: 18rem; height: 240px">-->
            <!--                        <div style="width:18rem; height:140px">-->
            <!--                            <img style="width:100%; height:100%"-->
            <!--                                 th:src="@{/img/goods/{image}(image=${goods.goodsFileName})}" class="card-img-top"-->
            <!--                                 alt="...">-->
            <!--                        </div>-->
            <!--                        <div style="width:18rem; height:100px;border:1px solid">-->
            <!--                            <h5 class="text-center" th:text="${goods.goodsName}">Card title</h5>-->
            <!--                            <p class="text-center" th:text="${goods.goodsPrice} + ' 원'"></p>-->
            <!--                            <p class="text-center" th:text="${goods.goodsBrand}"></p>-->
            <!--                        </div>-->
            <!--                    </div>-->
            <!--                </a>-->
            <!--            </div>-->

        </div>

    </div>


</div>
<a class="item scroll-to-top rounded" href="#page-top">
    <i class="fas fa-angle-up"></i>
</a>
<script src="/vendor/jquery/jquery.min.js"></script>
<script src="/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="/vendor/jquery-easing/jquery.easing.min.js"></script>
<script src="/js/sb-admin-2.min.js"></script>
<!--<script src="/js/cntnt/contentMakeForm.js" defer></script>-->
</body>
<script>
    $(document).ready(function () {
        var cntntURL = "[[${content.getCntntUrl()}]]";
        console.log(cntntURL);
        // 여기는 이거 말고 url 을 받아갈 수 있어 url 받아가는 거로 다시 해봐봐보바봐
        var requestData = {
            targetContentIdF: cntntURL
        };

        // /cs/instaimg URL로 GET 요청을 보냅니다.
        $.ajax({
            url: '/cs/youtube/iframe',
            type: 'GET',
            data: requestData, // 데이터 객체 전달
            success: function (data2) {
                const element = document.getElementById('iframe');
                const inHtml = `<iframe width="560" height="315" src="https://www.youtube.com/embed/` + data2 + "\"" +
                    `frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`;
                element.innerHTML = inHtml
                console.log(data2);
            },
            error: function (error) {
                console.error('에러 발생: ', error);
            }
        });


    });

    function delKeyword(key) {
        const div = document.getElementById(key);
        div.remove();
    }

    function makeKeyword() {
        word = document.getElementById("inputKeyword").value;

        const thisDiv = document.getElementsByClassName('keyword')[0];
        console.log(thisDiv);
        innerHtml = `
          <div id="${word}">
                <button type="button" style="margin-left: 10px" class="btn btn-primary position-relative keywordButton"
                        >
                     ${word}
                </button>
                <button style="z-index: 10; margin-left: -10px"
                        class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
                            key="${word}"
                        onclick="delKeyword(this.getAttribute('key'))">X
                </button>
        </div>`;

        thisDiv.insertAdjacentHTML("afterbegin", innerHtml);
    }

    function goodsNewPage() {
        window.open("http://localhost:8083/cs/goods/", "/cs/goods/", "width=1200, height=800");
    }

    clickGoodsList = [];
    console.log(clickGoodsList);


</script>
</html>
