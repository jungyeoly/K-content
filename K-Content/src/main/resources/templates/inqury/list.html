<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
	<div th:replace="~{/include/header :: header}"></div>
	<link rel="stylesheet" th:href="@{/css/inqury/inqury.css}">
	<link rel="stylesheet" href="/common.css">
</head>
<body>
	<div class="container">
	
		<div class="menu fw-bold">문의사항</div>
		<table class="table table-hover text-center table-group-divider">
			<thead>
				<tr>
					<th scope="col">글번호</th>
					<th scope="col">제목</th>
					<th scope="col">작성자</th>
					<th scope="col">등록일</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="inqry : ${inqryList}" class="inqry-row" th:attr="data-inqry-id=${inqry.inqryId}">
					<td>[[${inqry.inqryId}]]</td>
					<td class="text-start">[[${inqry.inqryTitle}]]</td>
					<td>[[${inqry.inqryMberId}]]</td>
					<td>[[${inqry.inqryRegistDate}]]</td>
				</tr>
			</tbody>
		</table>
		
		<a class="btn writeBtn" th:href="@{/inqury/insert}">글쓰기</a>
		
		<nav aria-label="Page navigation" class="d-flex justify-content-center">
			<ul class="pagination">
				<li class="page-item" th:if="${nowPageBlock>1}">
					<a class="page-link" th:href="@{/inqury/__${startPage-1}__}" aria-label="Previous">
						<span aria-hidden="true">&laquo;</span>
					</a>
				</li>
				
				<li class="page-item" th:each="i: ${#numbers.sequence(startPage, endPage)}" th:classappend="${i==nowPage}?active">
					<a class="page-link" th:href="@{/inqury/__${i}__}">[[${i}]]</a>		
				</li>
				
				<li class="page-item" th:if="${nowPageBlock<totalPageBlock}">
					<a class="page-link" th:href="@{/inqury/__${endPage+1}__}" aria-label="Next">
						<span aria-hidden="true">&raquo;</span>
					</a>
				</li>
			</ul>
		</nav>
	</div>
</body>
<script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
<script type="text/javascript">
	$(function(){
	    $(".inqry-row").click(function() {
	        var inqryId = $(this).data("inqry-id");
	        
	     	$.ajax({
	     		url: "/inqury/detail/" + inqryId,
	     		type: "GET",
	            success: function(response) {
	            	window.location.href = "/inqury/detail/" + inqryId;
	            }
	     	})   
	    })
	})
</script>
</html>