<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="ko">
<head>
<link rel="stylesheet" th:href="@{/css/commu/commuView.css}">
<meta charset="UTF-8">
</head>
<body>
	<div th:replace="~{/include/header :: header}"></div>
	<header th:replace="~{include/body-header :: userNavBar}"></header>
	
	<div class="container mb-3">
		<div class="commu-no menu fw-bold">[[${commu.commuId}]]</div>
		<div class="commu-header d-flex justify-content-between fw-bold">
			<div class="username">[[${commu.commuMberId}]]</div>
			<div class="title">[[${commu.commuTitle}]]</div>
				<div class="commu-category">
     <span th:each="code : ${commuCateCodeList}" 
          th:if="${code.commonCode} == ${commu.commuCateCode}" 
          th:text="${code.commonCodeVal}">카테고리명</span>
</div>
			<div class="registdate">[[${commu.commuRegistDate}]]</div>
			
		<div th:if="${commu.commuUpdateDate} != null" class="updatedate">
    [[${commu.commuUpdateDate}]]
</div>

		</div>

		<div class="detail-cntnt">
			<div th:each="file : ${commuFiles}" class="text-center img-div">
				<img th:src="@{'/' + ${file.commuFilePath}}">
			</div>
			<div class="commu-cntnt text-start cntnt-div">
				<div class="cntnt">[[${commu.commuCntnt}]]</div>
			</div>
		</div>
	</div>
	<div class="d-flex btn-div">
			<a th:href="@{/commu}" class="list-link btn">목록</a>
		<div th:if="${#authentication.principal.username} == ${commu.commuMberId}" class="btns">
		<a th:href="@{/commu/update/{commuCateCode}/{commuId}(commuCateCode=${commu.commuCateCode}, commuId=${commu.commuId})}" 
			class="btn me-2">수정</a>
			<form th:action="@{/commu/deletepost/{commuId}(commuId=${commu.commuId})}" method="post">
				<input type="hidden" name="commuId" th:value=${commu.commuId}>
				<input type="submit" class="btn delete" value="삭제">
			</form>
		</div>
	</div>
</body>

</html>