<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="ko">
<head>
<th:block th:replace="~{/include/header :: header}"></th:block>

</head>

<body>
	<header th:insert="~{/include/body-header :: userNavBar}"></header>
	<div class="container">
		<div class="menu fw-bold">마이페이지</div>
		<div
			class="border-bottom border-top border-2 fw-bold border-dark mb-3">
			<div class="mt-3 mb-3 row">
				<label for="mber_auth" class="col-sm-2 col-form-label">계정 구분</label>
				<div class="col-md-4">
					<input type="text" readonly class="form-control-plaintext"
						id="mber_auth" th:value="${isAdmin ? '관리자' : '회원'}" tabindex="-1">
				</div>
			</div>
			<div class="mb-3 row">
				<label for="mber_id" class="col-sm-2 col-form-label">아이디</label>
				<div class="col-md-4">
					<input type="text" readonly class="form-control-plaintext"
						id="mber_id" th:value="${mber.mberId}" tabindex="-1">
				</div>
			</div>
			<div class="mb-3 row">
				<label for="mber_pwd" class="col-sm-2 col-form-label">비밀번호</label>
				<div class="col-md-4">
					<input type="password" readonly class="form-control-plaintext"
						id="mber_pwd" value="********" tabindex="-1">
				</div>
			</div>
			<div class="mb-3 row">
				<label for="mber_name" class="col-sm-2 col-form-label">이름</label>
				<div class="col-md-4">
					<input type="text" readonly class="form-control-plaintext"
						id="mber_name" th:value="${mber.mberName}" tabindex="-1">
				</div>

			</div>
			<div class="mb-3 row">
				<label for="mber_email" class="col-sm-2 col-form-label">이메일</label>
				<div class="col-md-4">
					<input type="text" readonly class="form-control-plaintext"
						id="mber_email" th:value="${mber.mberEmail}" tabindex="-1">
				</div>

			</div>
			<div class="mb-3 row">
				<label for="mber_gender" class="col-sm-2 col-form-label">성별</label>
				<div class="col-md-4">
					<input type="text" readonly class="form-control-plaintext"
						id="mber_gender" th:if="${mber.mberGenderCode} == 'C0101'"
						th:value="남자" tabindex="-1"> <input type="text" readonly
						class="form-control-plaintext" id="mber_gender"
						th:if="${mber.mberGenderCode} == 'C0102'" th:value="여자"
						tabindex="-1"> <input type="text" readonly
						class="form-control-plaintext" id="mber_gender"
						th:if="${mber.mberGenderCode} == 'C0103'" th:value="비공개"
						tabindex="-1">
				</div>
			</div>
			<div class="mb-3 row">
				<label for="mber_birth" class="col-sm-2 col-form-label">생년월일</label>
				<div class="col-md-4">
					<input type="text" readonly class="form-control-plaintext"
						id="mber_birth" th:value="${mber.mberBirth}" tabindex="-1">
				</div>
			</div>
			<div class="mb-3 row">
				<label for="mber_phone" class="col-sm-2 col-form-label">전화번호</label>
				<div class="col-md-4">
					<input type="text" readonly class="form-control-plaintext"
						th:value="${mber.mberPhone}" id="mber_phone" tabindex="-1">
				</div>
			</div>
			<div class="mb-3 row">
				<label for="inputPassword" class="col-sm-2 col-form-label">가입일자</label>
				<div class="col-md-4">
					<input type="text" readonly class="form-control-plaintext"
						id="inputPassword" th:value="${mber.mberRegistDate}" tabindex="-1">
				</div>
				<div class="col-md-4"></div>
				<div class="col-md-2">
					<button type="button" tabindex="-1" id="mail-check-btn"
						class="delete form-control">
						<span id="fw-bold">계정탈퇴</span>
						<div
							class="spinner-border text-info spinner-border-sm ms-2 d-none"
							role="status" id="mail-check-spinner"></div>
					</button>
				</div>
			</div>

		</div>

		<div class="mb-3 row">
			<div class="col-md-2">
				<a th:href="@{/mber/editprofile}"><button type="button"
						tabindex="-1" class="btn form-control" id="edit-btn">수정하기</button></a>
			</div>
		</div>
	</div>
	<script th:inline="javascript">
		function toggleEditForm() {
			var editBtn = document.getElementById('edit-btn');
			var mypageForm = document.getElementById('mypageForm');

			if (mypageForm.classList.contains('readonly')) {
				// 입력 폼으로 변경
				mypageForm.classList.remove('readonly');
				editButton.textContent = '저장'; // 수정 버튼 텍스트 변경
			} else {
				// 저장 버튼을 눌렀을 때, AJAX를 사용하여 수정 내용을 서버에 전송할 수 있습니다.
				// AJAX 코드 작성

				// 수정 완료 후 입력 폼을 읽기 전용으로 변경
				mypageForm.classList.add('readonly');
				editButton.textContent = '수정'; // 수정 버튼 텍스트 변경
			}
		}
	</script>

</body>
</html>