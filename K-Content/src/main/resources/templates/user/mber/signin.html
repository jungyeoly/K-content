<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>로그인</title>

<!-- Bootstrap CSS -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
	crossorigin="anonymous">
	
<link rel="stylesheet"
	href="https://d13fzx7h5ezopb.cloudfront.net/www/v802/home/styles.css">
<link rel="stylesheet" th:href="@{/css/header.css}">
<link rel="stylesheet" th:href="@{/css/mber/mber.css}">
</head>
<body>
	<div class="bg p-5">
		<video muted autoplay loop id="bgvid">
			<source src="/img/mber/background2.mp4" type="video/mp4">
		</video>
		<div class="container">
			<div class="input-form col-md-12 mx-auto p-5 opacity-95">
				<div class="input-form-background row">
					<form th:action="@{/mber/signin}" method="post"
						class="validation-form" id="joinForm" novalidate>
						<p class="text-center">
							<img src="/img/mainLogo.png" width="500" height="240"
								class="img-fluid" alt="K-Spectrum">
						</p>
						<p class="text-center fw-bold fs-2 mb-3">안녕하세요. 당신은 누구신가요?</p>
						<div th:if="${message}" class="alert alert-danger" role="alert"
							th:text="${message}"></div>

						<div class="row">
							<div class="col-md-12 mb-3">
								<label for="mber_id" class="fw-bold">아이디</label> <input
									type="text" class="form-control" id="mber_id" name="mberId"
									placeholder="아이디" value="" required th:value="${savedUserId}">
							</div>
							<div class="col-md-12 mb-3">
								<label for="mber_pwd" class="fw-bold">비밀번호</label> <input
									type="password" class="form-control" id="mber_pwd"
									name="mberPwd" placeholder="비밀번호" value="" required>
							</div>
							<div class="invalid-feedback">비밀번호를 입력해주세요.</div>
							<hr class="mb-3">
							<div class="row">
								<div class="col-md-6 mb-3">
									<div class="form-check form-switch">
										<input class="form-check-input" type="checkbox" id="save_id"
											name="saveId" th:checked="${param.saveId == 'on'}"> <label
											class="form-check-label fw-bold" for="save_id">아이디 저장</label>
									</div>
								</div>
								<div class="col-md-6 mb-3 text-end">
									<a th:href="@{/mber/findmber}" class="fw-bold">아이디 찾기</a> <a
										th:href="@{/mber/findmber}" class="fw-bold">비밀번호 찾기</a>
								</div>
							</div>

						</div>

						<div class="row">
							<div class="col-md-12 text-center">
								<button type="submit" class="mb-4 btn btn-lg"
									style="background-color: #14dbc8; color: #ffffff">로그인</button>
								<p class="text-center">
									아직 회원이 아니신가요? <a th:href="@{/mber/signup}" class="fw-bold">회원가입</a>
								</p>

							</div>
						</div>
					</form>

				</div>
			</div>
		</div>
	</div>

	<script>
		// 쿠키 값 가져오는 함수
		function getCookie(name) {
			const value = "; " + document.cookie;
			const parts = value.split("; " + name + "=");
			if (parts.length === 2) {
				return parts.pop().split(";").shift();
			}
			return null;
		}

		// 페이지 로드 시 실행
		window.onload = function() {
			const savedUserId = getCookie("savedUserId");
			const saveIdCheckbox = document.getElementById("save_id");
			const memberIdInput = document.getElementById("mber_id");

			if (savedUserId != null) {
				saveIdCheckbox.checked = true;
				memberIdInput.value = savedUserId;
			}
		};
	</script>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
		crossorigin="anonymous"></script>
</body>

</html>